---
layout: default
title: "discord-bot 「鳩の会」"
date: 2020-7-7
---

## Description

GitHubのリポジトリは非公開のため、説明書として、ここにコマンドの用法を記載しておきます。

## Usage

### ショートカットコマンド

#### TRPG: ダイスを振る

例

```sh
/1d100
# -> [名前] 1d100 結果: 92 判定: なし
```

```sh
/1d100<=80
# -> [名前] 1d100 結果: 92 判定: 失敗
```

オプション **「--hidden」** を加えるとdmに送ってくれる。

```sh
/1d100 --hidden
# -> [名前] 1d100 結果: 92 判定: なし
```

オプション以外の文字列は処理に影響しないため、以下のようにも書ける。

```sh
/1d10 SANチェック
# -> [名前]SANチェック 1d10 結果: 5 判定: なし
```

また、ショートカットコマンドとして以外の文法は以下の通り。

```sh
//dice 1d10 SANチェック
# -> [名前]SANチェック 1d10 結果: 5 判定: なし
```

### TRPG: PCの情報を操作する

#### 基本：対象の名前[-n/--name]

- **自分のアカウント名で指定する。**  

  コマンドオプションは「-n」もしくは「--name」を用いて、直後に参照するアカウント名を入力。   
  デフォルト（指定しない場合）は、自分のアカウント名が用いられる。

  ```sh
  //pc [some options] -n yourname
  ```

- **自分のキャラクター名で指定する。**  
  
  キャラクター名を使う場合は、名前の頭に「?」をつけてください。

  ```sh
  //pc [some options] -n ?yourpcname
  ```

- **自分のキャラクター名とアカウント名で指定する。**  

  上記の二つを併用することもできる。  
  キャラクターを複数持っている場合は、この方法を使うことが推奨される。

  ```sh
  //pc [some options] -n yourname?yourpcname
  ```


#### 操作：プレイヤーの追加[-a/--add]
  
- **用意した情報を用いて追加する。**  

  以下のコマンドをつけて、ファイルを送信する。

  ```sh
  //pc -a 
  # -> someuser    によって、
  # -> 1件のデータが追加されました。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス
  # -> == == == == == == == == == == == ==
  # -> 紐付けされたアカウント名　　　:    someuser
  # -> プレイヤー名　　　　　　　　　:    somepcname
  ```

  コマンドオプションは「-a」もしくは「--add」

  例
  
  ![opt_a_file_upload](https://nakashimas.github.io/img/hatonokai/opt_a_file_upload.png)

- **乱数を用いて情報を作成する** 

  ファイルを添付しなかった場合、乱数を用いて新規作成する。

  ```
  //pc -a 
  ```

  作成された情報及びファイルが返るため、ダウンロードして中身を確認。  
  前述の方法でファイルをサーバーに追加する。（追加しない場合、作成結果は破棄される。）


#### 操作：プレイヤーの削除[-d/--delete]
  
- **一人分の情報を削除**  

  ```sh
  //pc -d -n someuser?somepcname
  # -> someuser?somepcname    という名前から、
  # -> 1件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> 削除された情報
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    someuser?somepcname
  ```
 
  コマンドオプションは「-d」もしくは「--delete」を用いる。  
  何も名前指定がない場合、アカウント名に紐付けされた全てのデータを消去する。

- **複数人分の情報を削除**  

  ```sh
  //pc -d -n name1 name2 name3
  # -> name1/name2/name3    という名前から、
  # -> 4件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> 削除された情報
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    someuser?name1
  # -> ＮＡＭＥ　　　　　　　　　　　:    someuser?name2
  # -> ＮＡＭＥ　　　　　　　　　　　:    someuser?name3
  # -> ＮＡＭＥ　　　　　　　　　　　:    someuser3?name3
  ```
  
#### 操作：プレイヤーの情報を取得[-g/--get]
  
- **一人分の情報を取得** 

  ```sh
  //pc -g name
  # -> someuser    という名前から、
  # -> 1件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    somepcname
  ```
 
  コマンドオプションは「-g」もしくは「--get」を用いて、直後に参照するパラメータを入力。  
  パラメータ名に「all」を用いると、全てのパラメータを表示する。

- **複数人分の情報を取得**  

  ```sh
  //pc -g name -n name1 name2 name3
  # -> name1/name2/name3    という名前から、
  # -> 3件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    somepcname
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    somepcname
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス
  # -> == == == == == == == == == == == ==
  # -> ＮＡＭＥ　　　　　　　　　　　:    somepcname
  ```

- **情報をファイルとして取得**

  「-f」もしくは「--file」を指定すると、情報をファイルとして取得することができる。  
  この場合、「-g」もしくは「--get」の指定パラメータは無視されるが、「all」など、何らかの値は入れておく必要がある。

  対象が単体である場合、textファイル（.txt）が返される。

  ```sh
  //pc -g all -f
  # -> someuser    という名前から、
  # -> 1件のデータが参照されました。
  # -> 単体のファイルが送信されます。
  ```

  対象が複数である場合、csvファイル（.csv）が返される。

  ```sh
  //pc -g all -f -n name1 name2 name3
  # -> name1/name2/name3    という名前から、
  # -> 3件のデータが参照されました。
  # -> 集合のファイルが送信されます。
  ```

#### 操作：プレイヤーの情報を変更[-s/--set]
  
- **一人分の情報を変更**  

  コマンドオプションは「-s」もしくは「--set」を用いて、直後に参照するパラメータを入力、次に変更内容を入力。  
  変更内容は文字列、数値、単純な演算が入力可能。

  ```sh
  //pc -s クトゥルフ神話 10
  # -> someuser    という名前から、
  # -> 1件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス変更
  # -> == == == == == == == == == == == ==
  # -> クトゥルフ神話　　　　　　　　:    0 -> 10
  ```

  演算子は以下の種類が使用可能。

  * 「 +[num]  」（num足す）
  * 「 -[num]  」（num引く）
  * 「 *[num]  」（numとの積）
  * 「 /[num]  」（numによる除算）
  * 「 **[num] 」（num乗）
  * 「 //[num] 」（numによる切り捨て除算）
  * 「 + 」（1足す）
  * 「 - 」（1引く）

  バグがあって、「--」演算子や「++」演算子の代わりに、「-」や「+」を使用していることに注意。

  ```sh
  //pc -s クトゥルフ神話 +
  # -> someuser    という名前から、
  # -> 1件のデータが参照されました。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス変更
  # -> == == == == == == == == == == == ==
  # -> クトゥルフ神話　　　　　　　　:    0 -> 1
  ```

- **複数人分の情報を変更**  

  同様に、複数のキャラクターに対して変更を適用させることもできる。  

  ```sh
  //pc -s クトゥルフ神話 + -n name1 name2 name3
  # -> name1/name2/name3    という名前から、
  # -> 3件のデータが参照されました。
  # -> 注意：二つ以上のデータの値を同様に変更しようとしています。
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス変更
  # -> == == == == == == == == == == == ==
  # -> クトゥルフ神話　　　　　　　　:    0 -> 1
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス変更
  # -> == == == == == == == == == == == ==
  # -> クトゥルフ神話　　　　　　　　:    0 -> 1
  # -> == == == == == == == == == == == ==
  # -> User someuser のステータス変更
  # -> == == == == == == == == == == == ==
  # -> クトゥルフ神話　　　　　　　　:    0 -> 1
  ```

### 文字列操作

#### 任意の文字列で広げて記述する

コマンド「//s」の後に文字を入力すると、スペースで拡張して返信される。

```sh
//s 文字列
# -> 文　字　列
```

引数によって、挿入する文字や、その個数を指定することができる。

```sh
//s 文字列 2 /
# -> 文//字//列
```

オプション「-e」を指定すると、空白文字ではなく、改行コードが挿入される。

```sh
//s 文字列 -e 2
# -> 文
# -> 
# -> 字
# -> 
# -> 列
```
